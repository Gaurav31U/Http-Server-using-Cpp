<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: Server_Architecture Pages: 1 -->
<svg width="595pt" height="591pt"
 viewBox="0.00 0.00 594.50 591.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 587)">
<title>Server_Architecture</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-587 590.5,-587 590.5,4 -4,4"/>
<!-- App -->
<g id="node1" class="node">
<title>App</title>
<polygon fill="#d3d3d3" stroke="black" points="219.5,-514.5 219.5,-582.5 355.5,-582.5 355.5,-514.5 219.5,-514.5"/>
<text text-anchor="middle" x="287.5" y="-570.5" font-family="Arial" font-size="10.00">&lt;&lt;Global Config &amp; Entry&gt;&gt;</text>
<polyline fill="none" stroke="black" points="219.5,-563.5 355.5,-563.5 "/>
<text text-anchor="start" x="227.5" y="-551.5" font-family="Arial" font-size="10.00">+ g_directory : string</text>
<text text-anchor="start" x="227.5" y="-540.5" font-family="Arial" font-size="10.00">+ server_fd : int</text>
<polyline fill="none" stroke="black" points="219.5,-533.5 355.5,-533.5 "/>
<text text-anchor="start" x="227.5" y="-521.5" font-family="Arial" font-size="10.00">+ main(argc, argv) : int</text>
</g>
<!-- ClientHandler -->
<g id="node2" class="node">
<title>ClientHandler</title>
<polygon fill="#ffffe0" stroke="black" points="203,-391.5 203,-459.5 372,-459.5 372,-391.5 203,-391.5"/>
<text text-anchor="middle" x="287.5" y="-447.5" font-family="Arial" font-size="10.00">&lt;&lt;Client Lifecycle&gt;&gt;</text>
<polyline fill="none" stroke="black" points="203,-440.5 372,-440.5 "/>
<text text-anchor="start" x="211" y="-428.5" font-family="Arial" font-size="10.00">+ client_fd : int</text>
<polyline fill="none" stroke="black" points="203,-421.5 372,-421.5 "/>
<text text-anchor="start" x="211" y="-409.5" font-family="Arial" font-size="10.00">+ handle_client(client_fd: int) : void</text>
<text text-anchor="start" x="211" y="-398.5" font-family="Arial" font-size="10.00">(Thread Loop logic)</text>
</g>
<!-- App&#45;&gt;ClientHandler -->
<g id="edge1" class="edge">
<title>App&#45;&gt;ClientHandler</title>
<path fill="none" stroke="black" d="M287.5,-504.49C287.5,-492.48 287.5,-479.45 287.5,-467.56"/>
<polygon fill="none" stroke="black" points="287.5,-504.84 290.7,-509.64 287.5,-514.44 284.3,-509.64 287.5,-504.84"/>
<polygon fill="black" stroke="black" points="290.3,-467.52 287.5,-459.52 284.7,-467.52 290.3,-467.52"/>
<text text-anchor="middle" x="326" y="-484.8" font-family="Arial" font-size="9.00">spawns std::thread</text>
</g>
<!-- RequestParser -->
<g id="node3" class="node">
<title>RequestParser</title>
<polygon fill="#ffffe0" stroke="black" points="0,-94.5 0,-176.5 167,-176.5 167,-94.5 0,-94.5"/>
<text text-anchor="middle" x="83.5" y="-164.5" font-family="Arial" font-size="10.00">&lt;&lt;Request Parsing Module&gt;&gt;</text>
<polyline fill="none" stroke="black" points="0,-157.5 167,-157.5 "/>
<text text-anchor="start" x="8" y="-145.5" font-family="Arial" font-size="10.00">+ read_http_request(...) : bool</text>
<text text-anchor="start" x="8" y="-134.5" font-family="Arial" font-size="10.00">+ extract_method(buf, len) : string</text>
<text text-anchor="start" x="8" y="-123.5" font-family="Arial" font-size="10.00">+ extract_route(buf, len) : string</text>
<text text-anchor="start" x="8" y="-112.5" font-family="Arial" font-size="10.00">+ extract_header_value(...) : string</text>
<text text-anchor="start" x="8" y="-101.5" font-family="Arial" font-size="10.00">+ extract_body(buf, len) : string</text>
</g>
<!-- ClientHandler&#45;&gt;RequestParser -->
<g id="edge2" class="edge">
<title>ClientHandler&#45;&gt;RequestParser</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M240.24,-391.42C204.85,-366.64 162.5,-337 162.5,-337 162.5,-337 125.73,-243.67 102.36,-184.36"/>
<polygon fill="black" stroke="black" points="99.3,-176.59 105.58,-182.72 100.76,-180.31 102.23,-184.04 102.23,-184.04 102.23,-184.04 100.76,-180.31 98.88,-185.36 99.3,-176.59 99.3,-176.59"/>
<text text-anchor="middle" x="172.5" y="-283.8" font-family="Arial" font-size="9.00">uses</text>
</g>
<!-- Router -->
<g id="node4" class="node">
<title>Router</title>
<polygon fill="#ffffe0" stroke="black" points="204.5,-235.5 204.5,-336.5 370.5,-336.5 370.5,-235.5 204.5,-235.5"/>
<text text-anchor="middle" x="287.5" y="-324.5" font-family="Arial" font-size="10.00">&lt;&lt;Endpoints / Logic&gt;&gt;</text>
<polyline fill="none" stroke="black" points="204.5,-317.5 370.5,-317.5 "/>
<text text-anchor="start" x="212.5" y="-305.5" font-family="Arial" font-size="10.00">+ get_endpoint(fd, req, len) : void</text>
<text text-anchor="start" x="212.5" y="-294.5" font-family="Arial" font-size="10.00">+ post_endpoint(fd, req, len) : void</text>
<polyline fill="none" stroke="black" points="204.5,-287.5 370.5,-287.5 "/>
<text text-anchor="start" x="212.5" y="-275.5" font-family="Arial" font-size="10.00">Logic Routes:</text>
<text text-anchor="start" x="212.5" y="-264.5" font-family="Arial" font-size="10.00">&#45; /echo/</text>
<text text-anchor="start" x="212.5" y="-253.5" font-family="Arial" font-size="10.00">&#45; /user&#45;agent</text>
<text text-anchor="start" x="212.5" y="-242.5" font-family="Arial" font-size="10.00">&#45; /files/</text>
</g>
<!-- ClientHandler&#45;&gt;Router -->
<g id="edge4" class="edge">
<title>ClientHandler&#45;&gt;Router</title>
<path fill="none" stroke="black" d="M287.5,-391.22C287.5,-377.27 287.5,-360.65 287.5,-344.82"/>
<polygon fill="black" stroke="black" points="287.5,-336.63 291.1,-344.63 287.5,-340.63 287.5,-344.63 287.5,-344.63 287.5,-344.63 287.5,-340.63 283.9,-344.63 287.5,-336.63 287.5,-336.63"/>
<text text-anchor="middle" x="310" y="-361.8" font-family="Arial" font-size="9.00">dispatches</text>
</g>
<!-- NetworkSender -->
<g id="node5" class="node">
<title>NetworkSender</title>
<polygon fill="#ffffe0" stroke="black" points="408.5,-90.5 408.5,-180.5 586.5,-180.5 586.5,-90.5 408.5,-90.5"/>
<text text-anchor="middle" x="497.5" y="-168.5" font-family="Arial" font-size="10.00">&lt;&lt;Network &amp; Response Module&gt;&gt;</text>
<polyline fill="none" stroke="black" points="408.5,-161.5 586.5,-161.5 "/>
<text text-anchor="start" x="416.5" y="-149.5" font-family="Arial" font-size="10.00">Constants:</text>
<text text-anchor="start" x="416.5" y="-138.5" font-family="Arial" font-size="10.00"> RESP_200, RESP_404, RESP_201</text>
<polyline fill="none" stroke="black" points="408.5,-131.5 586.5,-131.5 "/>
<text text-anchor="start" x="416.5" y="-119.5" font-family="Arial" font-size="10.00">+ send_http_response(fd, buf) : void</text>
<text text-anchor="start" x="416.5" y="-108.5" font-family="Arial" font-size="10.00">+ should_close_connection(...) : bool</text>
<text text-anchor="start" x="416.5" y="-97.5" font-family="Arial" font-size="10.00">+ supports_gzip(...) : bool</text>
</g>
<!-- ClientHandler&#45;&gt;NetworkSender -->
<g id="edge3" class="edge">
<title>ClientHandler&#45;&gt;NetworkSender</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M326.82,-391.42C356.27,-366.64 391.5,-337 391.5,-337 391.5,-337 439.09,-246.99 470.49,-187.58"/>
<polygon fill="black" stroke="black" points="474.24,-180.5 473.68,-189.26 472.37,-184.04 470.5,-187.57 470.5,-187.57 470.5,-187.57 472.37,-184.04 467.32,-185.89 474.24,-180.5 474.24,-180.5"/>
<text text-anchor="middle" x="454.5" y="-283.8" font-family="Arial" font-size="9.00">uses</text>
</g>
<!-- Router&#45;&gt;RequestParser -->
<g id="edge7" class="edge">
<title>Router&#45;&gt;RequestParser</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M219.29,-235.35C195.36,-217.93 168.64,-198.47 145.27,-181.46"/>
<polygon fill="black" stroke="black" points="138.77,-176.73 147.36,-178.53 142,-179.09 145.24,-181.44 145.24,-181.44 145.24,-181.44 142,-179.09 143.12,-184.35 138.77,-176.73 138.77,-176.73"/>
<text text-anchor="middle" x="195.5" y="-205.8" font-family="Arial" font-size="9.00">uses</text>
</g>
<!-- Router&#45;&gt;NetworkSender -->
<g id="edge6" class="edge">
<title>Router&#45;&gt;NetworkSender</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M357.72,-235.35C380.51,-219.23 405.76,-201.37 428.47,-185.32"/>
<polygon fill="black" stroke="black" points="435.11,-180.62 430.66,-188.18 431.84,-182.93 428.58,-185.24 428.58,-185.24 428.58,-185.24 431.84,-182.93 426.5,-182.3 435.11,-180.62 435.11,-180.62"/>
<text text-anchor="middle" x="409" y="-205.8" font-family="Arial" font-size="9.00">calls</text>
</g>
<!-- Utils -->
<g id="node6" class="node">
<title>Utils</title>
<polygon fill="#e6e6fa" stroke="black" points="210,-105.5 210,-165.5 365,-165.5 365,-105.5 210,-105.5"/>
<text text-anchor="middle" x="287.5" y="-153.5" font-family="Arial" font-size="10.00">&lt;&lt;System Utilities&gt;&gt;</text>
<polyline fill="none" stroke="black" points="210,-146.5 365,-146.5 "/>
<text text-anchor="start" x="218" y="-134.5" font-family="Arial" font-size="10.00">+ read_file(path) : string</text>
<text text-anchor="start" x="218" y="-123.5" font-family="Arial" font-size="10.00">+ write_file(path, content) : bool</text>
<text text-anchor="start" x="218" y="-112.5" font-family="Arial" font-size="10.00">+ gzip_compress(data) : string</text>
</g>
<!-- Router&#45;&gt;Utils -->
<g id="edge5" class="edge">
<title>Router&#45;&gt;Utils</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M287.5,-235.14C287.5,-215.12 287.5,-192.44 287.5,-173.87"/>
<polygon fill="black" stroke="black" points="287.5,-165.66 291.1,-173.66 287.5,-169.66 287.5,-173.66 287.5,-173.66 287.5,-173.66 287.5,-169.66 283.9,-173.66 287.5,-165.66 287.5,-165.66"/>
<text text-anchor="middle" x="297.5" y="-205.8" font-family="Arial" font-size="9.00">uses</text>
</g>
<!-- ZLib -->
<g id="node7" class="node">
<title>ZLib</title>
<polygon fill="#ffc0cb" stroke="black" points="314.5,-36 260.5,-36 260.5,-32 256.5,-32 256.5,-28 260.5,-28 260.5,-8 256.5,-8 256.5,-4 260.5,-4 260.5,0 314.5,0 314.5,-36"/>
<polyline fill="none" stroke="black" points="260.5,-32 264.5,-32 264.5,-28 260.5,-28 "/>
<polyline fill="none" stroke="black" points="260.5,-8 264.5,-8 264.5,-4 260.5,-4 "/>
<text text-anchor="middle" x="287.5" y="-15.5" font-family="Arial" font-size="10.00">{zlib}</text>
</g>
<!-- Utils&#45;&gt;ZLib -->
<g id="edge8" class="edge">
<title>Utils&#45;&gt;ZLib</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M287.5,-105.35C287.5,-86.63 287.5,-62.54 287.5,-44.57"/>
<polygon fill="black" stroke="black" points="290.3,-44.28 287.5,-36.28 284.7,-44.28 290.3,-44.28"/>
<text text-anchor="middle" x="295" y="-60.8" font-family="Arial" font-size="9.00">link</text>
</g>
</g>
</svg>
